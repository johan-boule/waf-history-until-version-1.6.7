The Waf Book (v1.5.14)
======================
Thomas Nagy

[preface]
== Introduction

Copyright (C) 2008-2010 Thomas Nagy

Copies of this book may be redistributed, verbatim, and for non-commercial
purposes. The license for this book is
 http://creativecommons.org/licenses/by-nc-nd/3.0/[by-nc-nd license].

=== A word on build systems

As software is becoming increasingly complex, the process of creating software is becoming more complex too. Today's software uses various languages, requires various compilers, and the input data is spread into many files.

Software is now used to express the process of building software, it can take the form of simple scripts (shell scripts, makefiles), of compilers (CMake, Qmake), or complete applications (SCons, Waf). The term `build system' is used to design the tools used to build applications.

=== The Waf framework

Build systems make assumptions on software it is trying to build, and are typically limited where it comes to processing other languages or different projects. For example, Ant is better suited than Make for managing Java projects, but is more limited than Make for managing simple c projects.

There are so many different languages that creating a build system to support all the possible kind of projects out-of-the-box is likely to be difficult. It is much more interesting to create one which can be extended easily.

The Waf framework is somewhat different than build systems, in the sense that it is essentially a library of components that are suitable for use in a build system. The default distribution contains various plugins for different programming languages and different tools (c, d, ocaml, java, etc).

=== Objectives of this book

The objectives of this book is to expose the use of the Waf build system though the use of Waf in practice, the description of the Waf extension system, and detailed review of the Waf internals. For the impatients: open the folder `demos/' in the Waf distribution, and start looking at the examples.

The first chapters contain a detailed description of the basic use of Waf. The chapters on Configuration, Tasks, and Task generators describe the internals. Although these chapters should be read carefully before trying to extend Waf, it may be necessary to consult the examples distributed along the Waf source code to avoid reinventing existing solutions. The next chapters detail examples for the c/c++ languages, and present techniques to address special scenarios which may occur in the most complicated builds. The last chapters are provided as a reference for modifying Waf itself and are aimed at developers.

include::getting_started.txt[]
include::execution.txt[]
include::configuration.txt[]
include::build.txt[]
include::chains.txt[]

/////
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="getting_started.xml"/>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="execution.xml"/>

<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="configuration.xml"/>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="build.xml"/>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="variants.xml"/>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="make_like_rules.xml"/>

<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="chains.xml"/>

<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="task_generators.xml"/>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="task_system.xml"/>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="task_schedulers.xml"/>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="c_builds.xml"/>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="scenarios.xml"/>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="scripting.xml"/>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="development.xml"/>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="architecture.xml"/>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="conclusion.xml"/>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="glossary.xml"/>
/////


