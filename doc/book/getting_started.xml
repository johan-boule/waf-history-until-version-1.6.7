<?xml version='1.0'?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd"
>
<chapter id="intro">
	<title>Getting Started</title>
	<section id="obtaining">
		<title>Obtaining Waf</title>
		<para>
			The Waf project is located on <ulink url="http://code.google.com/p/waf">Google Code</ulink>
			The current Waf version requires an interpreter for the Python programming language such as cPython (<ulink>http://www.python.org</ulink>) 2.3 to 3.1 or Jython &ge; 2.5 (<ulink>http://www.jython.org</ulink>). Note that Waf requires bzip2 compression support, which may be unavailable in self-compiled cPython installations.
		</para>
		<sect2>
			<title>Using the Waf binary</title>
			<para>
				The Waf binary does not require any installation whatsoever. It may be executed directly from a writeable folder. Just rename it into &quot;waf&quot; if necessary:
				<programlisting language="sh">
$ wget http://waf.googlecode.com/files/waf-1.5.11
$ mv waf-1.5.11 waf &amp;&amp; chmod 755 waf
				</programlisting>
			</para>
		</sect2>
		<sect2>
			<title>Generating the Waf binary from the source code</title>
			<para>
				The Waf binary creation requires a Python interpreter in version 2.4 to 2.6. The source code is processed to support Python 2.3 and Python 3.
				<programlisting language="sh">
$ wget http://waf.googlecode.com/files/waf-1.5.11.tar.bz2
$ tar xjvf waf-1.5.11.tar.bz2
$ cd waf-1.5.11
$ ./waf-light --make-waf
				</programlisting>
			</para>
		</sect2>
	</section>


	<section id="using">
		<title>Running Waf</title>
		<para>
			The Waf script can be used directly from a writeable folder:
			<programlisting language="sh">
$ ./waf
			</programlisting>
			Or, if the executable permissions are not set properly:
			<programlisting language="sh">
$ python waf
			</programlisting>
		</para>
		<para>
			The Waf script has its own library compressed in a binary stream in the same file. Upon execution, the library is uncompressed in the current directory, in a hidden folder that will be re-created if removed. The naming enables different Waf versions to be executed from the same folders:
			<programlisting language="sh">
$ ls -ld .waf*
.waf-1.5.11-2c924e3f453eb715218b9cc852291170
			</programlisting>

			<para>
			By default, the recommended Python interpreter is cPython, for which the supported versions are 2.3 to 3.1. For maximum convenience for the user, a copy of the <ulink url="http://www.jython.org">Jython</ulink> interpreter in the version 2.5 may be redistributed along with a copy of the Waf executable.
			</para>

			<note>
				A project containing <filename>waf</filename>, <filename>jython2.5.jar</filename> and the source code may be built almost anywhere.
			</note>

			<warning>
				The Waf script must reside in a writable folder to unpack its cache files.
			</warning>
		</para>

	</section>

	<section id="installing">
		<title>Installing Waf on a system</title>
		<para>Installing the Waf script on a system is unnecessary and discouraged:
			<orderedlist>
				<listitem>Interpreter version: unlike the Waf script, the installed version will not run by using Python 3</listitem>
				<listitem>Operating systems: Waf cannot be installed on Windows (yet)</listitem>
				<listitem>Installation: installation is cumbersome, and requires administrative privileges</listitem>
				<listitem>Waf versions: users rarely install the appropriate software version (too old, too new, bugs)</listitem>
				<listitem>Bugs: different Waf versions may result in broken builds</listitem>
				<listitem>Size: Waf is small enough to be redistributed (about 80kB)</listitem>
			</orderedlist>
		</para>
		<para>
			Installation require a Python interpreter in the versions 2.4 to 2.6. It may require administrator or root privileges, depending on the target folder (prefix).
			<programlisting language="sh">
# ./waf-light configure --prefix=/usr/
# ./waf-light install
			</programlisting>
		</para>
		<para>
			Likewise, Waf can be uninstalled using:
			<programlisting language="sh">
# ./waf-light --prefix=/usr/
# ./waf-light uninstall
			</programlisting>
		</para>
	</section>

</chapter>

