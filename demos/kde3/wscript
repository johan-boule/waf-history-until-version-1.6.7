#! /usr/bin/env python
# encoding: utf-8
# Thomas Nagy, 2006 (ita)

APPNAME='kde3app'
VERSION='0.0.1'

# these variables are mandatory,
srcdir = '.'
blddir = '_build_'

def set_options(opt):
	opt.tool_options('KDE3')

def configure(conf):
	conf.checkTool(['g++', 'KDE3'])
	conf.env['CXXFLAGS_QT']=['-DQT_THREAD_SUPPORT']
	conf.check_header('dlfcn.h','HAVE_DLFCN_H')
	conf.addDefine('TEST_DEFINE', 345)
	# check for libkcal using the KDECORE variables
	#conf.checkLibrary('kcal', uselib='KDECORE')
	conf.writeConfigHeader('config.h')

def build(bld):
	## headers of kde apps take the extension ".h", if you are certain that
	## all your headers end in ".h", uncomment the following two lines:

	#import Params
	#Params.g_options.kde_header_ext = '.h'

	bld.add_subdirs('src')

