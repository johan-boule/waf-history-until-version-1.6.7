#! /usr/bin/env python
# encoding: utf-8
# Thomas Nagy, 2006 (ita)

import Params

# the following two variables are used by the target "waf dist"
VERSION='0.0.1'
APPNAME='cpp_test'

# these variables are mandatory ('/' are converted automatically)
srcdir = '.'
blddir = '_build_'

def build(bld):
	# the PREFIX is set everytime for the default environment
	# you might want to set it for the configuration only
	bld.m_allenvs['default']['PREFIX'] = Params.g_options.prefix
	# process subfolders from here
	bld.add_subdirs('src src2')

def configure(conf):
	# conf.env['CXX'] = Params.g_options.meow
	# CXX=g++-3.0 ./waf.py configure will use g++-3.0 instead of 'g++'
	conf.checkTool(['g++'])
	conf.sub_config('src')

	conf.env['CXXFLAGS_MYPROG']='-O3'
	conf.env['LIB_MYPROG']='m'
	conf.env['SOME_INSTALL_DIR']='/tmp/ahoy/lib/'
	
	# works in a procedural way, so the order of calls does matter
	#conf.checkTool(['KDE3'])

def set_options(opt):
	opt.sub_options('src')
	opt.tool_options('g++')

